root@kumaraguru-virtual-machine:~/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic# echo `date`
Fri Apr 24 02:42:33 EDT 2020
root@kumaraguru-virtual-machine:~/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic# ./rebuild_snmp.sh 
Created collection for dellemc.sonic at /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/dellemc-sonic-0.0.5.tar.gz
Process install dependency map
Starting collection install process
Skipping 'ansible.netcommon' as it is already installed
Installing 'dellemc.sonic:0.0.5' to '/root/.ansible/collections/ansible_collections/dellemc/sonic'
ansible-playbook 2.9.6
  config file = /etc/ansible/ansible.cfg
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.5/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.5.2 (default, Oct  8 2019, 13:06:37) [GCC 5.4.0 20160609]
Using /etc/ansible/ansible.cfg as config file
setting up inventory plugins
host_list declined parsing /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/hosts as it did not pass its verify_file() method
script declined parsing /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/hosts as it did not pass its verify_file() method
auto declined parsing /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/hosts as it did not pass its verify_file() method
Parsed /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/hosts inventory source with ini plugin
Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.5/dist-packages/ansible/plugins/callback/default.py

PLAYBOOK: sonic_snmp_config.yaml ***********************************************************************************************************************************************************
Positional arguments: playbooks/common_examples/sonic_snmp_config.yaml
verbosity: 4
connection: smart
tags: ('all',)
timeout: 10
become_method: sudo
forks: 5
inventory: ('/root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/hosts',)
1 plays in playbooks/common_examples/sonic_snmp_config.yaml

PLAY [Test SONiC CLI] **********************************************************************************************************************************************************************
META: ran handlers

TASK [Delete all SNMP] *********************************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:9
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> local domain socket does not exist, starting it
<10.11.180.17> control socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> local domain socket listeners started successfully
<10.11.180.17> loaded API plugin ansible_collections.dellemc.sonic.plugins.httpapi.sonic from path /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/httpapi/sonic.py for network_os dellemc.sonic.sonic
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710571.3200376-255345091910730 `" && echo ansible-tmp-1587710571.3200376-255345091910730="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710571.3200376-255345091910730 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmpoucziylq TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710571.3200376-255345091910730/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710571.3200376-255345091910730/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710571.3200376-255345091910730/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710571.3200376-255345091910730/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710571.3200376-255345091910730/ > /dev/null 2>&1 && sleep 0'
changed: [sonic2] => {
    "after": [],
    "before": [
        {
            "access": "ro",
            "community": "private123"
        },
        {
            "access": "ro",
            "community": "public"
        }
    ],
    "changed": true,
    "commands": [
        {
            "access": "ro",
            "community": "private123",
            "state": "deleted"
        },
        {
            "access": "ro",
            "community": "public",
            "state": "deleted"
        }
    ],
    "invocation": {
        "module_args": {
            "config": null,
            "state": "deleted"
        }
    }
}

TASK [Delete all SNMP Idempotent test] *****************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:13
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> ESTABLISH HTTP(S) CONNECTFOR USER: admin TO https://10.11.180.17:443
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710607.3751416-79379513177585 `" && echo ansible-tmp-1587710607.3751416-79379513177585="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710607.3751416-79379513177585 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmpmnhbindr TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710607.3751416-79379513177585/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710607.3751416-79379513177585/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710607.3751416-79379513177585/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710607.3751416-79379513177585/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710607.3751416-79379513177585/ > /dev/null 2>&1 && sleep 0'
ok: [sonic2] => {
    "before": [],
    "changed": false,
    "commands": [],
    "invocation": {
        "module_args": {
            "config": null,
            "state": "deleted"
        }
    }
}

TASK [Add one SNMP] ************************************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:18
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710631.7307982-223443706127966 `" && echo ansible-tmp-1587710631.7307982-223443706127966="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710631.7307982-223443706127966 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmpkxn56_8k TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710631.7307982-223443706127966/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710631.7307982-223443706127966/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710631.7307982-223443706127966/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710631.7307982-223443706127966/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710631.7307982-223443706127966/ > /dev/null 2>&1 && sleep 0'
changed: [sonic2] => {
    "after": [
        {
            "access": "ro",
            "community": "private123"
        }
    ],
    "before": [],
    "changed": true,
    "commands": [
        {
            "access": "ro",
            "community": "private123",
            "state": "merged"
        }
    ],
    "invocation": {
        "module_args": {
            "config": [
                {
                    "access": "ro",
                    "community": "private123"
                }
            ],
            "state": "merged"
        }
    }
}

TASK [Add SNMP Idempotent test] ************************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:25
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710667.3657625-221842928895879 `" && echo ansible-tmp-1587710667.3657625-221842928895879="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710667.3657625-221842928895879 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmp1h31v7p_ TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710667.3657625-221842928895879/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710667.3657625-221842928895879/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710667.3657625-221842928895879/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710667.3657625-221842928895879/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710667.3657625-221842928895879/ > /dev/null 2>&1 && sleep 0'
ok: [sonic2] => {
    "before": [
        {
            "access": "ro",
            "community": "private123"
        }
    ],
    "changed": false,
    "commands": [],
    "invocation": {
        "module_args": {
            "config": [
                {
                    "access": "ro",
                    "community": "private123"
                }
            ],
            "state": "merged"
        }
    }
}

TASK [Add many SNMP] ***********************************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:33
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710691.880913-138543302906826 `" && echo ansible-tmp-1587710691.880913-138543302906826="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710691.880913-138543302906826 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmpdxgc15zc TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710691.880913-138543302906826/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710691.880913-138543302906826/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710691.880913-138543302906826/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710691.880913-138543302906826/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710691.880913-138543302906826/ > /dev/null 2>&1 && sleep 0'
changed: [sonic2] => {
    "after": [
        {
            "access": "ro",
            "community": "private"
        },
        {
            "access": "ro",
            "community": "private123"
        },
        {
            "access": "ro",
            "community": "public"
        },
        {
            "access": "ro",
            "community": "public123"
        }
    ],
    "before": [
        {
            "access": "ro",
            "community": "private123"
        }
    ],
    "changed": true,
    "commands": [
        {
            "access": "ro",
            "community": "public",
            "state": "merged"
        },
        {
            "access": "ro",
            "community": "public123",
            "state": "merged"
        },
        {
            "access": "ro",
            "community": "private",
            "state": "merged"
        }
    ],
    "invocation": {
        "module_args": {
            "config": [
                {
                    "access": "ro",
                    "community": "public"
                },
                {
                    "access": "ro",
                    "community": "public123"
                },
                {
                    "access": "ro",
                    "community": "private"
                }
            ],
            "state": "merged"
        }
    }
}

TASK [Add many SNMP Idempotent test] *******************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:44
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710749.9237883-36198575760698 `" && echo ansible-tmp-1587710749.9237883-36198575760698="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710749.9237883-36198575760698 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmplskhucl5 TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710749.9237883-36198575760698/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710749.9237883-36198575760698/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710749.9237883-36198575760698/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710749.9237883-36198575760698/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710749.9237883-36198575760698/ > /dev/null 2>&1 && sleep 0'
ok: [sonic2] => {
    "before": [
        {
            "access": "ro",
            "community": "private"
        },
        {
            "access": "ro",
            "community": "private123"
        },
        {
            "access": "ro",
            "community": "public"
        },
        {
            "access": "ro",
            "community": "public123"
        }
    ],
    "changed": false,
    "commands": [],
    "invocation": {
        "module_args": {
            "config": [
                {
                    "access": "ro",
                    "community": "public"
                },
                {
                    "access": "ro",
                    "community": "public123"
                },
                {
                    "access": "ro",
                    "community": "private"
                }
            ],
            "state": "merged"
        }
    }
}

TASK [Delete SNMP] *************************************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:56
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710774.4086268-122678892682622 `" && echo ansible-tmp-1587710774.4086268-122678892682622="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710774.4086268-122678892682622 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmpf139ugiy TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710774.4086268-122678892682622/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710774.4086268-122678892682622/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710774.4086268-122678892682622/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710774.4086268-122678892682622/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710774.4086268-122678892682622/ > /dev/null 2>&1 && sleep 0'
changed: [sonic2] => {
    "after": [
        {
            "access": "ro",
            "community": "private"
        },
        {
            "access": "ro",
            "community": "private123"
        },
        {
            "access": "ro",
            "community": "public"
        }
    ],
    "before": [
        {
            "access": "ro",
            "community": "private"
        },
        {
            "access": "ro",
            "community": "private123"
        },
        {
            "access": "ro",
            "community": "public"
        },
        {
            "access": "ro",
            "community": "public123"
        }
    ],
    "changed": true,
    "commands": [
        {
            "access": "ro",
            "community": "public123",
            "state": "deleted"
        }
    ],
    "invocation": {
        "module_args": {
            "config": [
                {
                    "access": "ro",
                    "community": "public123"
                }
            ],
            "state": "deleted"
        }
    }
}

TASK [Delete SNMP Idempotent test] *********************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:63
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710809.9180703-260066393458959 `" && echo ansible-tmp-1587710809.9180703-260066393458959="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710809.9180703-260066393458959 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmpzgs7k2f5 TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710809.9180703-260066393458959/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710809.9180703-260066393458959/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710809.9180703-260066393458959/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710809.9180703-260066393458959/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710809.9180703-260066393458959/ > /dev/null 2>&1 && sleep 0'
ok: [sonic2] => {
    "before": [
        {
            "access": "ro",
            "community": "private"
        },
        {
            "access": "ro",
            "community": "private123"
        },
        {
            "access": "ro",
            "community": "public"
        }
    ],
    "changed": false,
    "commands": [],
    "invocation": {
        "module_args": {
            "config": [
                {
                    "access": "ro",
                    "community": "public123"
                }
            ],
            "state": "deleted"
        }
    }
}

TASK [Overridden SNMP] *********************************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:71
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710834.2530227-58785926174799 `" && echo ansible-tmp-1587710834.2530227-58785926174799="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710834.2530227-58785926174799 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmpnqwzv08z TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710834.2530227-58785926174799/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710834.2530227-58785926174799/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710834.2530227-58785926174799/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710834.2530227-58785926174799/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710834.2530227-58785926174799/ > /dev/null 2>&1 && sleep 0'
changed: [sonic2] => {
    "after": [
        {
            "access": "rw",
            "community": "public"
        }
    ],
    "before": [
        {
            "access": "ro",
            "community": "private"
        },
        {
            "access": "ro",
            "community": "private123"
        },
        {
            "access": "ro",
            "community": "public"
        }
    ],
    "changed": true,
    "commands": [
        {
            "access": "ro",
            "community": "private",
            "state": "deleted"
        },
        {
            "access": "ro",
            "community": "private123",
            "state": "deleted"
        },
        {
            "access": "ro",
            "community": "public",
            "state": "deleted"
        },
        {
            "access": "rw",
            "community": "public",
            "state": "merged"
        }
    ],
    "invocation": {
        "module_args": {
            "config": [
                {
                    "access": "rw",
                    "community": "public"
                }
            ],
            "state": "overridden"
        }
    }
}

TASK [Overridden SNMP Idempotent test] *****************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:78
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710903.2983015-268583811582012 `" && echo ansible-tmp-1587710903.2983015-268583811582012="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710903.2983015-268583811582012 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmphhngx6ei TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710903.2983015-268583811582012/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710903.2983015-268583811582012/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710903.2983015-268583811582012/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710903.2983015-268583811582012/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710903.2983015-268583811582012/ > /dev/null 2>&1 && sleep 0'
ok: [sonic2] => {
    "before": [
        {
            "access": "rw",
            "community": "public"
        }
    ],
    "changed": false,
    "commands": [],
    "invocation": {
        "module_args": {
            "config": [
                {
                    "access": "rw",
                    "community": "public"
                }
            ],
            "state": "overridden"
        }
    }
}

TASK [Replace SNMP] ************************************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:86
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710927.7917285-246105009595339 `" && echo ansible-tmp-1587710927.7917285-246105009595339="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710927.7917285-246105009595339 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmpvzox1n8s TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710927.7917285-246105009595339/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710927.7917285-246105009595339/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710927.7917285-246105009595339/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710927.7917285-246105009595339/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710927.7917285-246105009595339/ > /dev/null 2>&1 && sleep 0'
changed: [sonic2] => {
    "after": [
        {
            "access": "ro",
            "community": "public"
        }
    ],
    "before": [
        {
            "access": "rw",
            "community": "public"
        }
    ],
    "changed": true,
    "commands": [
        {
            "access": "ro",
            "community": "public",
            "state": "merged"
        }
    ],
    "invocation": {
        "module_args": {
            "config": [
                {
                    "access": "ro",
                    "community": "public"
                }
            ],
            "state": "replaced"
        }
    }
}

TASK [Replace SNMP Idempotent test] ********************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp_config.yaml:93
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/e4f6f722b5
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710963.330275-42669653326611 `" && echo ansible-tmp-1587710963.330275-42669653326611="` echo /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710963.330275-42669653326611 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_snmp.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-6668y40hjz2x/tmplzn2d24h TO /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710963.330275-42669653326611/AnsiballZ_sonic_snmp.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710963.330275-42669653326611/ /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710963.330275-42669653326611/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710963.330275-42669653326611/AnsiballZ_sonic_snmp.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-6668y40hjz2x/ansible-tmp-1587710963.330275-42669653326611/ > /dev/null 2>&1 && sleep 0'
ok: [sonic2] => {
    "before": [
        {
            "access": "ro",
            "community": "public"
        }
    ],
    "changed": false,
    "commands": [],
    "invocation": {
        "module_args": {
            "config": [
                {
                    "access": "ro",
                    "community": "public"
                }
            ],
            "state": "replaced"
        }
    }
}
META: ran handlers
META: ran handlers

PLAY RECAP *********************************************************************************************************************************************************************************
sonic2                     : ok=12   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

ansible-playbook 2.9.6
  config file = /etc/ansible/ansible.cfg
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.5/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.5.2 (default, Oct  8 2019, 13:06:37) [GCC 5.4.0 20160609]
Using /etc/ansible/ansible.cfg as config file
setting up inventory plugins
host_list declined parsing /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/hosts as it did not pass its verify_file() method
script declined parsing /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/hosts as it did not pass its verify_file() method
auto declined parsing /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/hosts as it did not pass its verify_file() method
Parsed /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/hosts inventory source with ini plugin
Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.5/dist-packages/ansible/plugins/callback/default.py

PLAYBOOK: sonic_snmp.yaml ******************************************************************************************************************************************************************
Positional arguments: playbooks/common_examples/sonic_snmp.yaml
timeout: 10
forks: 5
inventory: ('/root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/hosts',)
connection: smart
become_method: sudo
tags: ('all',)
verbosity: 4
1 plays in playbooks/common_examples/sonic_snmp.yaml

PLAY [Test SONiC CLI] **********************************************************************************************************************************************************************
META: ran handlers

TASK [Test SONiC single command] ***********************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp.yaml:9
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> local domain socket does not exist, starting it
<10.11.180.17> control socket path is /root/.ansible/pc/825693ee71
<10.11.180.17> local domain socket listeners started successfully
<10.11.180.17> loaded API plugin ansible_collections.dellemc.sonic.plugins.httpapi.sonic from path /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/httpapi/sonic.py for network_os dellemc.sonic.sonic
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/825693ee71
<10.11.180.17> ESTABLISH LOCAL CONNECTION FOR USER: root
<10.11.180.17> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp/ansible-local-11357zv6s6qd3/ansible-tmp-1587710991.8667123-247042271349171 `" && echo ansible-tmp-1587710991.8667123-247042271349171="` echo /root/.ansible/tmp/ansible-local-11357zv6s6qd3/ansible-tmp-1587710991.8667123-247042271349171 `" ) && sleep 0'
Using module file /root/.ansible/collections/ansible_collections/dellemc/sonic/plugins/modules/sonic_facts.py
<10.11.180.17> PUT /root/.ansible/tmp/ansible-local-11357zv6s6qd3/tmp9i8b1nr3 TO /root/.ansible/tmp/ansible-local-11357zv6s6qd3/ansible-tmp-1587710991.8667123-247042271349171/AnsiballZ_sonic_facts.py
<10.11.180.17> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-local-11357zv6s6qd3/ansible-tmp-1587710991.8667123-247042271349171/ /root/.ansible/tmp/ansible-local-11357zv6s6qd3/ansible-tmp-1587710991.8667123-247042271349171/AnsiballZ_sonic_facts.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-local-11357zv6s6qd3/ansible-tmp-1587710991.8667123-247042271349171/AnsiballZ_sonic_facts.py && sleep 0'
<10.11.180.17> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-local-11357zv6s6qd3/ansible-tmp-1587710991.8667123-247042271349171/ > /dev/null 2>&1 && sleep 0'
[WARNING]: default value for `gather_subset` will be changed to `min` from `!config` v2.11 onwards
ok: [sonic2] => {
    "ansible_facts": {
        "ansible_net_gather_network_resources": [
            "snmp"
        ],
        "ansible_net_gather_subset": [],
        "ansible_network_resources": {
            "snmp": [
                {
                    "access": "ro",
                    "community": "public"
                }
            ]
        }
    },
    "changed": false,
    "invocation": {
        "module_args": {
            "gather_network_resources": [
                "snmp"
            ],
            "gather_subset": [
                "!config"
            ]
        }
    }
}

TASK [debug] *******************************************************************************************************************************************************************************
task path: /root/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic/playbooks/common_examples/sonic_snmp.yaml:14
<10.11.180.17> attempting to start connection
<10.11.180.17> using connection plugin httpapi
<10.11.180.17> found existing local domain socket, using it!
<10.11.180.17> ESTABLISH HTTP(S) CONNECTFOR USER: admin TO https://10.11.180.17:443
<10.11.180.17> updating play_context for connection
<10.11.180.17> 
<10.11.180.17> local domain socket path is /root/.ansible/pc/825693ee71
ok: [sonic2] => {
    "cmd_op": {
        "ansible_facts": {
            "ansible_net_gather_network_resources": [
                "snmp"
            ],
            "ansible_net_gather_subset": [],
            "ansible_network_resources": {
                "snmp": [
                    {
                        "access": "ro",
                        "community": "public"
                    }
                ]
            }
        },
        "changed": false,
        "failed": false,
        "warnings": [
            "default value for `gather_subset` will be changed to `min` from `!config` v2.11 onwards"
        ]
    }
}
META: ran handlers
META: ran handlers

PLAY RECAP *********************************************************************************************************************************************************************************
sonic2                     : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

root@kumaraguru-virtual-machine:~/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic# echo `date`
Fri Apr 24 02:50:09 EDT 2020
root@kumaraguru-virtual-machine:~/snmp_dev/lothlorien/ansible-dellos-collections/dellemc/sonic#