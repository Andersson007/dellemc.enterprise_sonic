---
module_name: mclag
idempotnet_condition: "{{ 'Passed' if ((idempotent_task_output.commands == empty or action_task_output.commands != empty_dict) and
                                       idempotent_task_output.changed == false)
                                   else 'Failed' 
                   }}"
action_condition: "{{ 'Passed' if ((action_task_output.commands != empty) and
                                   action_task_output.changed == true)
                                else 'Failed' 
                    }}"                   
empty: []
empty_dict: {}

preparations_tests:   
    delete_port_configurations:
          - name: Ethernet32
          - name: Ethernet36
          - name: Ethernet40
          - name: Ethernet44

tests:
  # Ethernet testcases started...
  - name: test_case_01
    description: MCLAG properties
    state: merged
    input:
        domain_id: 3 
        source_address: 3.3.3.3
        peer_address: 1.1.1.1
        peer_link: "Ethernet4"
        keepalive: 3
        session_timeout: 300
  - name: test_case_02
    description: Update created MCLAG properties
    state: merged
    input:
        domain_id: 3 
        source_address: 3.3.3.4
        peer_address: 1.1.1.2
        peer_link: "Ethernet8"
        keepalive: 2
        session_timeout: 350
  - name: test_case_03
    description: Update created MCLAG properties
    state: deleted
    input: {}    